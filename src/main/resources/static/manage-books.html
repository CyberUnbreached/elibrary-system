<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Books | E-Library</title>

  <!-- Bootstrap + jQuery -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="home.html">
          <span class="glyphicon glyphicon-home"></span> E-Library
        </a>
      </div>
      <ul class="nav navbar-nav navbar-right" id="nav-auth"></ul>
    </div>
  </nav>

  <div class="container">

    <div id="alert-container"></div>

    <div class="page-header text-center">
      <h2 class="text-primary">ðŸ“˜ Manage Library Books</h2>
      <p class="text-muted">Add new books, update records, or remove outdated entries.</p>
    </div>

    <!-- NEW: Add Book Button -->
    <div class="text-center" style="margin-bottom:20px;">
      <button class="btn btn-success btn-lg" id="open-add-modal">
        <span class="glyphicon glyphicon-plus"></span> Add New Book
      </button>
    </div>

    <!-- Search Bar -->
    <div class="row" style="margin-bottom:15px;">
      <div class="col-md-6 col-md-offset-3">
        <input type="text" id="mb-search-box" class="form-control" placeholder="Search by title, author, genre, or description...">
      </div>
    </div>

    <!-- Books Table -->
    <div class="panel panel-default">
      <div class="panel-heading"><strong>All Books in Catalog</strong></div>
      <div class="panel-body">

        <table class="table table-striped table-hover">
          <thead>
            <tr class="info">
              <th>Image</th>
              <th>Title</th>
              <th>Author</th>
              <th>Genre</th>
              <th>Description</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Borrow Availability</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="books-body"></tbody>
        </table>

      </div>
    </div>
  </div>

  <footer class="text-center" style="margin-top:40px; padding:15px; background-color:#f8f9fa;">
    <p>Team Codex Â© 2025 â€“ E-Library System</p>
  </footer>


  <!-- ===========================
       EDIT BOOK MODAL
       =========================== -->
  <div id="editBookModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Edit Book</h4>
        </div>

        <div class="modal-body">

          <input type="hidden" id="edit-book-id">

          <div class="form-group">
            <label>Title</label>
            <input type="text" class="form-control" id="edit-title">
          </div>

          <div class="form-group">
            <label>Author</label>
            <input type="text" class="form-control" id="edit-author">
          </div>

          <div class="form-group">
            <label>Genre</label>
            <input type="text" class="form-control" id="edit-genre">
          </div>

          <div class="form-group">
            <label>Description</label>
            <textarea class="form-control" id="edit-description" rows="3" placeholder="Brief summary of the book"></textarea>
          </div>

          <div class="form-group">
            <label>Price</label>
            <input type="number" class="form-control" id="edit-price" min="0" step="0.01">
          </div>

          <div class="form-group">
            <label>Quantity</label>
            <input type="number" class="form-control" id="edit-quantity" min="0">
          </div>

          <div class="form-group">
            <label>Image URL</label>
            <input type="text" class="form-control" id="edit-imageUrl">
          </div>

          <div class="form-group">
            <label>Available to Borrow</label>
            <select class="form-control" id="edit-available">
              <option value="true">Available (Yes)</option>
              <option value="false">Not Available (No)</option>
            </select>
          </div>

        </div>

        <div class="modal-footer">
          <button id="save-edit-btn" class="btn btn-primary">
            <span class="glyphicon glyphicon-ok"></span> Save Changes
          </button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        </div>

      </div>
    </div>
  </div>


  <!-- ===========================
       ADD BOOK MODAL
       =========================== -->
  <div id="addBookModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Add New Book</h4>
        </div>

        <div class="modal-body">

          <div class="form-group">
            <label>Title</label>
            <input type="text" class="form-control" id="add-title">
          </div>

          <div class="form-group">
            <label>Author</label>
            <input type="text" class="form-control" id="add-author">
          </div>

          <div class="form-group">
            <label>Genre</label>
            <input type="text" class="form-control" id="add-genre">
          </div>

          <div class="form-group">
            <label>Description</label>
            <textarea class="form-control" id="add-description" rows="3" placeholder="Brief summary of the book"></textarea>
          </div>

          <div class="form-group">
            <label>Price</label>
            <input type="number" class="form-control" id="add-price" min="0" step="0.01">
          </div>

          <div class="form-group">
            <label>Quantity</label>
            <input type="number" class="form-control" id="add-quantity" min="0">
          </div>

          <div class="form-group">
            <label>Image URL</label>
            <input type="text" class="form-control" id="add-imageUrl">
            <small class="text-muted">Leave blank to use default placeholder.</small>
          </div>

        </div>

        <div class="modal-footer">
          <button id="save-add-btn" class="btn btn-primary">
            <span class="glyphicon glyphicon-ok"></span> Add Book
          </button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        </div>

      </div>
    </div>
  </div>


  <script src="js/nav.js"></script>
  <script src="js/manage-books.js"></script>

</body>
</html>
